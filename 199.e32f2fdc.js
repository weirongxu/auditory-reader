/*! For license information please see 199.e32f2fdc.js.LICENSE.txt */
(self.webpackChunkauditory_reader=self.webpackChunkauditory_reader||[]).push([["199"],{123:function(e,t,n){"use strict";n.d(t,{ez:()=>o,iN:()=>v,R_:()=>r.Z,Ti:()=>g});var r=n("8973"),o={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},i=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];i.primary=i[5];var f=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];f.primary=f[5];var a=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];a.primary=a[5];var u=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];u.primary=u[5];var c=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];c.primary=c[5];var l=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];l.primary=l[5];var d=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];d.primary=d[5];var s=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];s.primary=s[5];var v=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];v.primary=v[5];var b=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];b.primary=b[5];var m=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];m.primary=m[5];var y=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];y.primary=y[5];var p=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];p.primary=p[5];var g={red:i,volcano:f,orange:a,gold:u,yellow:c,lime:l,green:d,cyan:s,blue:v,geekblue:b,purple:m,magenta:y,grey:p},h=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];h.primary=h[5];var Z=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Z.primary=Z[5];var w=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];w.primary=w[5];var k=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];k.primary=k[5];var S=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];S.primary=S[5];var _=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];_.primary=_[5];var E=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];E.primary=E[5];var C=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];C.primary=C[5];var j=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];j.primary=j[5];var x=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];x.primary=x[5];var O=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];O.primary=O[5];var A=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];A.primary=A[5];var F=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];F.primary=F[5]},2515:function(e,t,n){"use strict";n.d(t,{Kl:function(){return g},ZP:function(){return p},gR:function(){return y}});var r=n(5198),o=n(1388),i=n(9516),f=n(9257),a=n(1984),u=n(5271),c=n(6511),l=n(110),d=n(3283),s=n(7792),v={},b=new Map,m=function(e,t,n,r){var o=n.getDerivativeToken(e),f=(0,i.Z)((0,i.Z)({},o),t);return r&&(f=r(f)),f},y="token";function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=(0,u.useContext)(c.ZP),g=p.cache.instanceId,h=p.container,Z=n.salt,w=void 0===Z?"":Z,k=n.override,S=void 0===k?v:k,_=n.formatToken,E=n.getComputedToken,C=n.cssVar,j=(0,l.DH)(function(){return Object.assign.apply(Object,[{}].concat((0,o.Z)(t)))},t),x=(0,l.ak)(j),O=(0,l.ak)(S),A=C?(0,l.ak)(C):"";return(0,s.Z)(y,[w,e.id,x,O,A],function(){var t,n,o=E?E(j,S,e):m(j,S,e,_),a=(0,i.Z)({},o),u="";if(C){var c=(0,d.bq)(o,C.key,{prefix:C.prefix,ignore:C.ignore,unitless:C.unitless,preserve:C.preserve}),s=(0,r.Z)(c,2);o=s[0],u=s[1]}var v=(0,l.F9)(o,w);o._tokenKey=v,a._tokenKey=(0,l.F9)(a,w);var y=null!==(n=null==C?void 0:C.key)&&void 0!==n?n:v;o._themeKey=y,t=y,b.set(t,(b.get(t)||0)+1);var p="".concat("css","-").concat((0,f.Z)(v));return o._hashId=p,[o,p,a,u,(null==C?void 0:C.key)||""]},function(e){var t,n,r,o;t=e[0]._themeKey,n=g,b.set(t,(b.get(t)||0)-1),o=(r=Array.from(b.keys())).filter(function(e){return 0>=(b.get(e)||0)}),r.length-o.length>0&&o.forEach(function(e){var t,r;t=e,r=n,"undefined"!=typeof document&&document.querySelectorAll("style[".concat(c.jF,'="').concat(t,'"]')).forEach(function(e){if(e[c.g8]===r){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)}}),b.delete(e)})},function(e){var t=(0,r.Z)(e,4),n=t[0],o=t[3];if(C&&o){var i=(0,a.hq)(o,(0,f.Z)("css-variables-".concat(n._themeKey)),{mark:c.JF,prepend:"queue",attachTo:h,priority:-999});i[c.g8]=g,i.setAttribute(c.jF,n._themeKey)}})}var g=function(e,t,n){var o=(0,r.Z)(e,5),i=o[2],f=o[3],a=o[4],u=(n||{}).plain;if(!f)return null;var c=i._tokenKey,d=(0,l.n5)(f,a,c,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},u);return[-999,c,d]}},6331:function(e,t,n){"use strict";n.d(t,{CI:function(){return o.ZP},E4:function(){return f.Z},bf:function(){return u.bf},fp:function(){return r.ZP},jG:function(){return a.jG},ks:function(){return c.ks},xy:function(){return i.ZP}}),n(1715);var r=n(2515),o=n(8867),i=n(2247),f=n(2955);n(2050),n(6511);var a=n(9357);n(376);var u=n(110),c=n(3283)},5274:function(e,t,n){"use strict";n.d(t,{u6:function(){return r}}),n(5271);let r=1e3},2278:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});let r=n(5271).createContext({})},2988:function(e,t,n){"use strict";n.d(t,{E_:function(){return f},Rf:function(){return o},oR:function(){return i}});var r=n(5271);let o="ant",i="anticon",f=r.createContext({getPrefixCls:(e,t)=>t?t:e?`${o}-${e}`:o,iconPrefixCls:i}),{Consumer:a}=f},7294:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(9106);let o=Object.assign({},r.Z.Modal),i=[],f=()=>i.reduce((e,t)=>Object.assign(Object.assign({},e),t),r.Z.Modal);function a(e){if(e){let t=Object.assign({},e);return i.push(t),f(),()=>{i=i.filter(e=>e!==t),f()}}Object.assign({},r.Z.Modal)}},951:function(e,t,n){"use strict";n.d(t,{Lx:function(){return f},Qy:function(){return c},Ro:function(){return i},Wf:function(){return o},du:function(){return a}});var r=n(6331);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},i=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),f=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),a=(e,t,n,r)=>{let o=`[class^="${t}"], [class*=" ${t}"]`,i=n?`.${n}`:o,f={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},a={};return!1!==r&&(a={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[i]:Object.assign(Object.assign(Object.assign({},a),f),{[o]:f})}},u=e=>({outline:`${(0,r.bf)(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),c=e=>({"&:focus-visible":Object.assign({},u(e))})},3348:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e){let t=Array(10).fill(null).map((t,n)=>{let r=e*Math.pow(Math.E,(n-1)/5);return 2*Math.floor((n>1?Math.floor(r):Math.ceil(r))/2)});return t[1]=e,t.map(e=>{var t;return{size:e,lineHeight:((t=e)+8)/t}})}},3168:function(e,t,n){"use strict";n.d(t,{I$:function(){return c},bk:function(){return d}});var r=n(5271),o=n(4950),i=n(2988),f=n(951),a=n(1266),u=n(3896);let{genStyleHooks:c,genComponentStyleHook:l,genSubStyleComponent:d}=(0,o.rb)({usePrefix:()=>{let{getPrefixCls:e,iconPrefixCls:t}=(0,r.useContext)(i.E_);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{let[e,t,n,r,o]=(0,a.ZP)();return{theme:e,realToken:t,hashId:n,token:r,cssVar:o}},useCSP:()=>{let{csp:e,iconPrefixCls:t}=(0,r.useContext)(i.E_);return(0,u.Z)(t,e),null!=e?e:{}},getResetStyles:e=>[{"&":(0,f.Lx)(e)}],getCommonStyle:f.du,getCompUnitless:()=>a.NJ})},9356:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r,o,i,f=n(2083),a=n(9516),u=n(5198),c=n(6017),l=n(9981),d=n.n(l),s=n(4194),v=n(3083),b=n(5271),m=n(1201),y=n(9249),p=n(2063),g=n(8594),h=n(3646),Z=n(8179);let w=(o=r=Z.Cq,"object"===(0,c.Z)(r)&&(o=r.transitionSupport),(i=b.forwardRef(function(e,t){var n=e.visible,r=void 0===n||n,i=e.removeOnLeave,c=void 0===i||i,l=e.forceRender,w=e.children,k=e.motionName,S=e.leavedClassName,_=e.eventProps,E=b.useContext(m._).motion;var C=(L=e,N=E,!!(L.motionName&&o&&!1!==N)),j=(0,b.useRef)(),x=(0,b.useRef)(),O=(0,p.Z)(C,r,function(){try{return j.current instanceof HTMLElement?j.current:(0,s.ZP)(x.current)}catch(e){return null}},e),A=(0,u.Z)(O,4),F=A[0],R=A[1],M=A[2],P=A[3],D=b.useRef(P);P&&(D.current=!0);var T=b.useCallback(function(e){j.current=e,(0,v.mH)(t,e)},[t]),z=(0,a.Z)((0,a.Z)({},_),{},{visible:r});if(w){if(F===h.ib)$=P?w((0,a.Z)({},z),T):!c&&D.current&&S?w((0,a.Z)((0,a.Z)({},z),{},{className:S}),T):!l&&(c||S)?null:w((0,a.Z)((0,a.Z)({},z),{},{style:{display:"none"}}),T);else{R===h.yH?H="prepare":(0,g.zh)(R)?H="active":R===h.$D&&(H="start");var L,N,$,H,K=(0,Z.mL)(k,"".concat(F,"-").concat(H));$=w((0,a.Z)((0,a.Z)({},z),{},{className:d()((0,Z.mL)(k,F),(0,f.Z)((0,f.Z)({},K,K&&H),k,"string"==typeof k)),style:M}),T)}}else $=null;return b.isValidElement($)&&(0,v.Yr)($)&&!$.ref&&($=b.cloneElement($,{ref:T})),b.createElement(y.Z,{ref:x},$)})).displayName="CSSMotion",i)},1201:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},_:function(){return f}});var r=n(1225),o=n(5271),i=["children"],f=o.createContext({});function a(e){var t=e.children,n=(0,r.Z)(e,i);return o.createElement(f.Provider,{value:n},t)}},9739:function(e,t,n){"use strict";n.d(t,{V4:function(){return r.Z},zt:function(){return o.Z}}),n(9356);var r=n(8685),o=n(1201)},4194:function(e,t,n){"use strict";n.d(t,{ZP:function(){return a}});var r=n(6017),o=n(5271),i=n(967);function f(e){return e instanceof HTMLElement||e instanceof SVGElement}function a(e){var t,n,a=(t=e)&&"object"===(0,r.Z)(t)&&f(t.nativeElement)?t.nativeElement:f(t)?t:null;return a?a:e instanceof o.Component?null===(n=i.findDOMNode)||void 0===n?void 0:n.call(i,e):null}},2615:function(e,t,n){"use strict";n.d(t,{s:function(){return v}});var r,o,i=n(6017),f=n(9516),a=n(967),u=(0,f.Z)({},r||(r=n.t(a,2))),c=u.version,l=u.render;u.unmountComponentAtNode;try{Number((c||"").split(".")[0])>=18&&(o=u.createRoot)}catch(e){}function d(e){var t=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===(0,i.Z)(t)&&(t.usingClientEntryPoint=e)}var s="__rc_react_root__";function v(e,t){if(o){var n,r,i;n=e,r=t,d(!0),i=r[s]||o(r),d(!1),i.render(n),r[s]=i;return}l(e,t)}},8046:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5271);function o(e){var t=r.useRef();return t.current=e,r.useCallback(function(){for(var e,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))},[])}},570:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5271),o=(0,n(1254).Z)()?r.useLayoutEffect:r.useEffect;let i=function(e,t){var n=r.useRef(!0);o(function(){return e(n.current)},t),o(function(){return n.current=!1,function(){n.current=!0}},[])}},6522:function(e,t,n){"use strict";n(8046),n(570),n(2290)},2290:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5198),o=n(5271);function i(e){var t=o.useRef(!1),n=o.useState(e),i=(0,r.Z)(n,2),f=i[0],a=i[1];return o.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]),[f,function(e,n){if(!n||!t.current)a(e)}]}},8774:function(e,t,n){"use strict";n.d(t,{zX:function(){return r.Z}});var r=n(8046);n(6522),n(3083),n(7502),n(7432)},5363:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=function(e){return+setTimeout(e,16)},o=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(r=function(e){return window.requestAnimationFrame(e)},o=function(e){return window.cancelAnimationFrame(e)});var i=0,f=new Map;function a(e){f.delete(e)}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=i+=1;return!function t(o){if(0===o){var i;i=n,f.delete(i),e()}else{var a=r(function(){t(o-1)});f.set(n,a)}}(t),n};u.cancel=function(e){var t,n=f.get(e);return t=e,f.delete(t),o(n)};let c=u},3083:function(e,t,n){"use strict";n.d(t,{Yr:function(){return a},mH:function(){return f}});var r=n(6017),o=n(5271),i=n(6479);n(5410);var f=function(e,t){"function"==typeof e?e(t):"object"===(0,r.Z)(e)&&e&&"current"in e&&(e.current=t)},a=function(e){var t,n,r=(0,i.isMemo)(e)?e.type.type:e.type;return("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&!!t.render||r.$$typeof===i.ForwardRef)&&("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&!!n.render||e.$$typeof===i.ForwardRef)||!1};function u(e){return(0,o.isValidElement)(e)&&!(0,i.isFragment)(e)}o.version.split(".")[0]},7502:function(e,t,n){"use strict";n.d(t,{T:function(){return d}});var r=n(6017),o=n(9516),i=n(1388),f=n(5769),a=n(5584);function u(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!(0,a.Z)(e,t.slice(0,-1))?e:function e(t,n,r,a){if(!n.length)return r;var u,c=(0,f.Z)(n),l=c[0],d=c.slice(1);return u=t||"number"!=typeof l?Array.isArray(t)?(0,i.Z)(t):(0,o.Z)({},t):[],a&&void 0===r&&1===d.length?delete u[l][d[0]]:u[l]=e(u[l],d,r,a),u}(e,t,n,r)}function c(e){return Array.isArray(e)?[]:{}}var l="undefined"==typeof Reflect?Object.keys:Reflect.ownKeys;function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=c(t[0]);return t.forEach(function(e){!function t(n,f){var d,s=new Set(f),v=(0,a.Z)(e,n),b=Array.isArray(v);if(b||(d=v,"object"===(0,r.Z)(d)&&null!==d&&Object.getPrototypeOf(d)===Object.prototype)){if(!s.has(v)){s.add(v);var m=(0,a.Z)(o,n);b?o=u(o,n,[]):(!m||"object"!==(0,r.Z)(m))&&(o=u(o,n,c(v))),l(v).forEach(function(e){t([].concat((0,i.Z)(n),[e]),s)})}}else o=u(o,n,v)}([])}),o}},9981:function(e){!function(){"use strict";var t={}.hasOwnProperty;function n(){for(var e="",o=0;o<arguments.length;o++){var i=arguments[o];i&&(e=r(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var i in e)t.call(e,i)&&e[i]&&(o=r(o,i));return o}(i)))}return e}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return n}):window.classNames=n}()},7751:function(e,t,n){"use strict";function r(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}n.d(t,{Z:function(){return r}})},4601:function(e,t,n){"use strict";n.d(t,{MT:function(){return C},cn:function(){return o}});let r=0;function o(e,t){let n=`atom${++r}`,o={toString(){return this.debugLabel?n+":"+this.debugLabel:n}};return"function"==typeof e?o.read=e:(o.init=e,o.read=i,o.write=f),t&&(o.write=t),o}function i(e){return e(this)}function f(e,t,n){return t(this,"function"==typeof n?n(e(this)):n)}let a=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,u=e=>"init"in e,c=e=>!!e.write,l=new WeakMap,d=e=>{var t;return b(e)&&!(null==(t=l.get(e))?void 0:t[1])},s=(e,t)=>{let n=l.get(e);if(n)n[1]=!0,n[0].forEach(e=>e(t));else throw Error("[Bug] cancelable promise not found")},v=e=>{if(l.has(e))return;let t=[new Set,!1];l.set(e,t);let n=()=>{t[1]=!0};e.then(n,n),e.onCancel=e=>{t[0].add(e)}},b=e=>"function"==typeof(null==e?void 0:e.then),m=e=>"v"in e||"e"in e,y=e=>{if("e"in e)throw e.e;if(!("v"in e))throw Error("[Bug] atom state is not initialized");return e.v},p=(e,t,n)=>{!n.p.has(e)&&(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},g=(e,t,n,r,o)=>{var i;if(r===t)throw Error("[Bug] atom cannot depend on itself");n.d.set(r,o.n),d(n.v)&&p(t,n.v,o),null==(i=o.m)||i.t.add(t),e&&w(e,r,t)},h=()=>[new Map,new Map,new Set],Z=(e,t,n)=>{!e[0].has(t)&&e[0].set(t,new Set),e[1].set(t,n)},w=(e,t,n)=>{let r=e[0].get(t);r&&r.add(n)},k=(e,t)=>e[0].get(t),S=(e,t)=>{e[2].add(t)},_=e=>{for(;e[1].size||e[2].size;){e[0].clear();let t=new Set(e[1].values());e[1].clear();let n=new Set(e[2]);e[2].clear(),t.forEach(e=>{var t;return null==(t=e.m)?void 0:t.l.forEach(e=>e())}),n.forEach(e=>e())}},E=e=>{let t;t=new Set;let n=(t,n,r)=>{let o="v"in n,i=n.v,f=d(n.v)?n.v:null;if(b(r)){for(let o of(v(r),n.d.keys()))p(t,r,e(o,n));n.v=r,delete n.e}else n.v=r,delete n.e;(!o||!Object.is(i,n.v))&&(++n.n,f&&s(f,r))},r=(t,o,i,f)=>{var d;let s,v;if(!(null==f?void 0:f(o))&&m(i)&&(i.m||Array.from(i.d).every(([n,o])=>r(t,n,e(n,i),f).n===o)))return i;i.d.clear();let p=!0;try{let Z=o.read(c=>{if(a(o,c)){let t=e(c,i);if(!m(t)){if(u(c))n(c,t,c.init);else throw Error("no atom init")}return y(t)}let l=r(t,c,e(c,i),f);if(p)g(t,o,i,c,l);else{let e=h();g(e,o,i,c,l),w(e,o,i),_(e)}return y(l)},{get signal(){return!s&&(s=new AbortController),s.signal},get setSelf(){return!c(o)&&console.warn("setSelf function cannot be used with read-only atom"),!v&&c(o)&&(v=(...e)=>{if(p&&console.warn("setSelf function cannot be called in sync"),!p)return l(o,...e)}),v}});if(n(o,i,Z),b(Z)){null==(d=Z.onCancel)||d.call(Z,()=>null==s?void 0:s.abort());let e=()=>{if(i.m){let e=h();w(e,o,i),_(e)}};Z.then(e,e)}return i}catch(e){return delete i.v,i.e=e,++i.n,i}finally{p=!1}},o=(t,n,r)=>{var o,i;let f=new Map;for(let t of(null==(o=r.m)?void 0:o.t)||[])f.set(t,e(t,r));for(let t of r.p)f.set(t,e(t,r));return null==(i=k(t,n))||i.forEach(t=>{f.set(t,e(t,r))}),f},i=(e,t,n)=>{let i=[],f=new Set,a=(t,n)=>{if(!f.has(t)){for(let[r,i]of(f.add(t),o(e,t,n)))t!==r&&a(r,i);i.push([t,n,n.n])}};a(t,n);let u=new Set([t]),c=e=>f.has(e);for(let t=i.length-1;t>=0;--t){let[n,o,a]=i[t],l=!1;for(let e of o.d.keys())if(e!==n&&u.has(e)){l=!0;break}l&&(r(e,n,o,c),w(e,n,o),a!==o.n&&(Z(e,n,o),u.add(n))),f.delete(n)}},f=(t,o,c,...l)=>o.write(n=>y(r(t,n,e(n,c))),(r,...l)=>{let d;let s=e(r,c);if(a(o,r)){if(!u(r))throw Error("atom not writable");let e="v"in s,o=s.v;n(r,s,l[0]),w(t,r,s),(!e||!Object.is(o,s.v))&&(Z(t,r,s),i(t,r,s))}else d=f(t,r,s,...l);return _(t),d},...l),l=(t,...n)=>{let r=h(),o=f(r,t,e(t),...n);return _(r),o},w=(t,n,r)=>{if(r.m&&!d(r.v)){for(let o of r.d.keys())!r.m.d.has(o)&&(C(t,o,e(o,r)).t.add(n),r.m.d.add(o));for(let o of r.m.d||[])if(!r.d.has(o)){r.m.d.delete(o);let i=j(t,o,e(o,r));null==i||i.t.delete(n)}}},C=(n,o,i)=>{if(!i.m){for(let t of(r(n,o,i),i.d.keys()))C(n,t,e(t,i)).t.add(o);i.m={l:new Set,d:new Set(i.d.keys()),t:new Set};if(t.add(o),c(o)&&o.onMount){let e=i.m,{onMount:t}=o;S(n,()=>{let r=t((...e)=>f(n,o,i,...e));r&&(e.u=r)})}}return i.m},j=(n,r,o)=>{if(o.m&&!o.m.l.size&&!Array.from(o.m.t).some(t=>{var n;return null==(n=e(t,o).m)?void 0:n.d.has(r)})){let i=o.m.u;i&&S(n,i),delete o.m;for(let i of(t.delete(r),o.d.keys())){let t=j(n,i,e(i,o));null==t||t.t.delete(r)}return}return o.m},x={get:t=>y(r(void 0,t,e(t))),set:l,sub:(t,n)=>{let r=h(),o=e(t),i=C(r,t,o);_(r);let f=i.l;return f.add(n),()=>{f.delete(n);let e=h();j(e,t,o),_(e)}},unstable_derive:t=>E(...t(e))};return Object.assign(x,{dev4_get_internal_weak_map:()=>({get:t=>{let n=e(t);if(0!==n.n)return n}}),dev4_get_mounted_atoms:()=>t,dev4_restore_atoms:t=>{let r=h();for(let[o,f]of t)if(u(o)){let t=e(o),a="v"in t,u=t.v;n(o,t,f),w(r,o,t),(!a||!Object.is(u,t.v))&&(Z(r,o,t),i(r,o,t))}_(r)}}),x},C=()=>{let e=new WeakMap;return E(t=>{let n=e.get(t);return!n&&(n={d:new Map,p:new Set,n:0},e.set(t,n)),n})}}}]);